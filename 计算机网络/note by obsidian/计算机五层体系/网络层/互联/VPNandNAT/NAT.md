NAT，网络地址转换（Network Address Translation）
可以让**大量使用内部专用地址的专用网络用户**共享**少量外部全球地址**来访问**因特网上的主机和资源**

举例：
![[image-20221115104715551.png]]
正常情况下使用私有地址的主机是访问不到使用全球IP地址的主机的
在专用网络连接到因特网的路由器上安装NAT软件（又叫NAT路由器）
![[image-20221115104858997.png]]
NAT路由器至少有一个外部的全球IP地址

这样所有使用私有地址的主机在和外界通信时都要在NAT路由器上将其私有地址转换为全球IP地址

假设私有地址的主机要给因特网上使用全球IP地址的另一台主机发送IP数据报
![[image-20221115105153171.png]]
外部主机发回数据报
![[image-20221115105241127.png]]

>家里的路由器就是这样工作的

扩展一下
![[image-20221115105327671.png]]

这样也会存在问题
![[image-20221115105347990.png]]
解决方案
![[image-20221115105402535.png]]
带上端口号，升级为NAPT，更加精确，就不会存在冲突的问题了

# 注意
内网主机与外网主机的通信，不能由外网主机首先发起
![[image-20221115105546693.png]]
路由器中没有存放相应的（IP：端口）映射，找不到目的主机

**NAT内网穿越**
![[image-20221115105653120.png]]



