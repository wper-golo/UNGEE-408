# 分类编址的IPv4

把IP地址分成ABCDE五类

![[image-20221110142446188.png]]

每一类地址都由两个固定长度的字段组成，一个叫**网络号**，另一个叫**主机号**
网络号标志着主机（或路由器）所连接的网络
主机号标志着主机（或路由器）
**同一个网络内每个主机号都是唯一的**（主机号在它前面的网络号所指明的网络范围内必须是唯一的。）
**一个 IP 地址在整个互联网范围内是唯一的**

主机号全0称为**网络地址**
主机号全1称为**广播地址**

仅ABC类可以被分配给网络中的主机或路由器

## A类地址

最小网络号00000000，保留不指派

第一个可指派的网络号为00000001，网络地址为1.0.0.0

最后一个可指派的网络号为01111110，网络地址为126.0.0.0

最大网络号为01111111，网络地址为127.0.0.0，一般用作本地环回测试。最小的本地环回测试地址为127.0.0.1，最大的本地环回测试地址为127.255.255.254

可指派的网络总数为$2^{(8-1)}-2$（减2是去掉最小与最大）

![[image-20221110154302154.png]]

## B类地址

最小网络号也是第一个可指派的网络号10111111.0，网络地址为128.0.0.0

最大网络号也是最后一个可指派的网络号10111111.0，网络地址为191.255.0.0

可指派的网络数量$2^(16-2)=16384$

每个网络中的可分配IP地址数量为$2^16-2=65534$（减2的原因是除去主机号为全0的网络地址和全1的广播地址）

![[image-20221110154755494.png]]

## C类地址

最小网络号也是第一个可指派的网络号11011111.0.0，网络地址为192.0.0.0

最大网络号也是最后一个可指派的网络号11011111.0.0，网络地址为123.255.255.0

可指派的网络数量$2^{(24-3)}=2097152$

每个网络中的可分配IP地址数量为$2^8-2=254$（减2的原因是除去主机号为全0的网络地址和全1的广播地址）

![[image-20221110155136541.png]]

**举例**

![[image-20221110155116024.png]]



## 特殊地址

**一般不使用的IP地址：**
![[image-20221110155925450.png]]

# 分类编址的特点

(1) **IP 地址是一种分等级的地址结构**。分两个等级的好处是：

-   **第一**，IP 地址管理机构在分配 IP 地址时只分配网络号，而剩下的主机号则由得到该网络号的单位自行分配。这样就方便了 IP 地址的管理。
    
-   **第二**，路由器仅根据目的主机所连接的网络号来转发分组（而不考虑目的主机号），这样就可以使路由表中的项目数大幅度减少，从而减小了路由表所占的存储空间。
    

(2) **实际上 IP 地址是标志一个主机（或路由器）和一条链路的接口**。

-   当一个主机同时连接到两个网络上时，该主机就必须同时具有两个相应的 IP 地址，其网络号 net-id 必须是不同的。这种主机称为**多归属主机** (multihomed host)。
    
-   由于一个路由器至少应当连接到两个网络（这样它才能将 IP 数据报从一个网络转发到另一个网络），因此**一个路由器至少应当有两个不同的 IP 地址**。
    

(3) **用转发器或网桥连接起来的若干个局域网仍为一个网络**，因此这些局域网都具有同样的网络号 net-id。

(4) **所有分配到网络号 net-id 的网络，无论是范围很小的局域网，还是可能覆盖很大地理范围的广域网，都是平等的。**