## 工作流程

设发送窗口$W=5$

1. 发送方将序号落在发送窗口内的0~4号数据分组，依次连续发出去![[image-20221129174633224.png]]
2. 假设没有任何差错的情况下，这些数据分组正确到达接收方，接收方按序接受他们，每接收一个，接受窗口就向前滑动一个位置，并给发送方发送针对所接受分组的确认分组![[image-20221129220058908.png]]
3. 发送方每接受一个，发送窗口就向前滑动一个位置，这样就有新的序号落入发送窗口。发送方可以将收到确认的数据分组从缓存中删除了，而接受方可以择机将已接受到的数据分组交付上层处理，如果收到的数据帧在接受窗口之外，接收方会直接丢弃![[image-20221129220513971.png]]
## 机制特性
- 停止-等待协议：发送窗口大小=1，接受窗口大小=1
- 后退N帧协议：发送窗口大小>1，接受窗口大小=1
- 选择重传协议：发送窗口大小>1，接受窗口大小>1